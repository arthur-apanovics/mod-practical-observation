!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.Sortable=b())}(this,function(){"use strict";function a(b){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(b)}function b(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function c(){return c=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},c.apply(this,arguments)}function d(a){for(var c=1;c<arguments.length;c++){var d=null!=arguments[c]?arguments[c]:{},e=Object.keys(d);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(d).filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable}))),e.forEach(function(c){b(a,c,d[c])})}return a}function e(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function f(a,b){if(null==a)return{};var c,d,f=e(a,b);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(a);for(d=0;d<g.length;d++)c=g[d],b.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(a,c)&&(f[c]=a[c])}return f}function g(a){return h(a)||i(a)||j()}function h(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function i(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function j(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function k(a){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(a)}function l(a,b,c){a.addEventListener(b,c,!Ma&&Sa)}function m(a,b,c){a.removeEventListener(b,c,!Ma&&Sa)}function n(a,b){if(b){if(">"===b[0]&&(b=b.substring(1)),a)try{if(a.matches)return a.matches(b);if(a.msMatchesSelector)return a.msMatchesSelector(b);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(b)}catch(c){return!1}return!1}}function o(a){return a.host&&a!==document&&a.host.nodeType?a.host:a.parentNode}function p(a,b,c,d){if(a){c=c||document;do{if(null!=b&&(">"===b[0]?a.parentNode===c&&n(a,b):n(a,b))||d&&a===c)return a;if(a===c)break}while(a=o(a))}return null}function q(a,b,c){if(a&&b)if(a.classList)a.classList[c?"add":"remove"](b);else{var d=(" "+a.className+" ").replace(Ta," ").replace(" "+b+" "," ");a.className=(d+(c?" "+b:"")).replace(Ta," ")}}function r(a,b,c){var d=a&&a.style;if(d){if(void 0===c)return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,""):a.currentStyle&&(c=a.currentStyle),void 0===b?c:c[b];b in d||b.indexOf("webkit")!==-1||(b="-webkit-"+b),d[b]=c+("string"==typeof c?"":"px")}}function s(a,b){var c="";if("string"==typeof a)c=a;else do{var d=r(a,"transform");d&&"none"!==d&&(c=d+" "+c)}while(!b&&(a=a.parentNode));var e=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return e&&new e(c)}function t(a,b,c){if(a){var d=a.getElementsByTagName(b),e=0,f=d.length;if(c)for(;e<f;e++)c(d[e],e);return d}return[]}function u(){var a=document.scrollingElement;return a?a:document.documentElement}function v(a,b,c,d,e){if(a.getBoundingClientRect||a===window){var f,g,h,i,j,k,l;if(a!==window&&a!==u()?(f=a.getBoundingClientRect(),g=f.top,h=f.left,i=f.bottom,j=f.right,k=f.height,l=f.width):(g=0,h=0,i=window.innerHeight,j=window.innerWidth,k=window.innerHeight,l=window.innerWidth),(b||c)&&a!==window&&(e=e||a.parentNode,!Ma))do if(e&&e.getBoundingClientRect&&("none"!==r(e,"transform")||c&&"static"!==r(e,"position"))){var m=e.getBoundingClientRect();g-=m.top+parseInt(r(e,"border-top-width")),h-=m.left+parseInt(r(e,"border-left-width")),i=g+f.height,j=h+f.width;break}while(e=e.parentNode);if(d&&a!==window){var n=s(e||a),o=n&&n.a,p=n&&n.d;n&&(g/=p,h/=o,l/=o,k/=p,i=g+k,j=h+l)}return{top:g,left:h,bottom:i,right:j,width:l,height:k}}}function w(a,b,c){for(var d=C(a,!0),e=v(a)[b];d;){var f=v(d)[c],g=void 0;if(g="top"===c||"left"===c?e>=f:e<=f,!g)return d;if(d===u())break;d=C(d,!1)}return!1}function x(a,b,c){for(var d=0,e=0,f=a.children;e<f.length;){if("none"!==f[e].style.display&&f[e]!==Q.ghost&&f[e]!==Q.dragged&&p(f[e],c.draggable,a,!1)){if(d===b)return f[e];d++}e++}return null}function y(a,b){for(var c=a.lastElementChild;c&&(c===Q.ghost||"none"===r(c,"display")||b&&!n(c,b));)c=c.previousElementSibling;return c||null}function z(a,b){var c=0;if(!a||!a.parentNode)return-1;for(;a=a.previousElementSibling;)"TEMPLATE"===a.nodeName.toUpperCase()||a===Q.clone||b&&!n(a,b)||c++;return c}function A(a){var b=0,c=0,d=u();if(a)do{var e=s(a),f=e.a,g=e.d;b+=a.scrollLeft*f,c+=a.scrollTop*g}while(a!==d&&(a=a.parentNode));return[b,c]}function B(a,b){for(var c in a)if(a.hasOwnProperty(c))for(var d in b)if(b.hasOwnProperty(d)&&b[d]===a[c][d])return Number(c);return-1}function C(a,b){if(!a||!a.getBoundingClientRect)return u();var c=a,d=!1;do if(c.clientWidth<c.scrollWidth||c.clientHeight<c.scrollHeight){var e=r(c);if(c.clientWidth<c.scrollWidth&&("auto"==e.overflowX||"scroll"==e.overflowX)||c.clientHeight<c.scrollHeight&&("auto"==e.overflowY||"scroll"==e.overflowY)){if(!c.getBoundingClientRect||c===document.body)return u();if(d||b)return c;d=!0}}while(c=c.parentNode);return u()}function D(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function E(a,b){return Math.round(a.top)===Math.round(b.top)&&Math.round(a.left)===Math.round(b.left)&&Math.round(a.height)===Math.round(b.height)&&Math.round(a.width)===Math.round(b.width)}function F(a,b){return function(){if(!la){var c=arguments,d=this;1===c.length?a.call(d,c[0]):a.apply(d,c),la=setTimeout(function(){la=void 0},b)}}}function G(){clearTimeout(la),la=void 0}function H(a,b,c){a.scrollLeft+=b,a.scrollTop+=c}function I(a){var b=window.Polymer,c=window.jQuery||window.Zepto;return b&&b.dom?b.dom(a).cloneNode(!0):c?c(a).clone(!0)[0]:a.cloneNode(!0)}function J(a,b){r(a,"position","absolute"),r(a,"top",b.top),r(a,"left",b.left),r(a,"width",b.width),r(a,"height",b.height)}function K(a){r(a,"position",""),r(a,"top",""),r(a,"left",""),r(a,"width",""),r(a,"height","")}function L(){var a,b=[];return{captureAnimationState:function(){if(b=[],this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(a){if("none"!==r(a,"display")&&a!==Q.ghost){b.push({target:a,rect:v(a)});var c=d({},b[b.length-1].rect);if(a.thisAnimationDuration){var e=s(a,!0);e&&(c.top-=e.f,c.left-=e.e)}a.fromRect=c}})}},addAnimationState:function(a){b.push(a)},removeAnimationState:function(a){b.splice(B(b,{target:a}),1)},animateAll:function(c){var d=this;if(!this.options.animation)return clearTimeout(a),void("function"==typeof c&&c());var e=!1,f=0;b.forEach(function(a){var b=0,c=a.target,g=c.fromRect,h=v(c),i=c.prevFromRect,j=c.prevToRect,k=a.rect,l=s(c,!0);l&&(h.top-=l.f,h.left-=l.e),c.toRect=h,c.thisAnimationDuration&&E(i,h)&&!E(g,h)&&(k.top-h.top)/(k.left-h.left)===(g.top-h.top)/(g.left-h.left)&&(b=N(k,i,j,d.options)),E(h,g)||(c.prevFromRect=g,c.prevToRect=h,b||(b=d.options.animation),d.animate(c,k,h,b)),b&&(e=!0,f=Math.max(f,b),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},b),c.thisAnimationDuration=b)}),clearTimeout(a),e?a=setTimeout(function(){"function"==typeof c&&c()},f):"function"==typeof c&&c(),b=[]},animate:function(a,b,c,d){if(d){r(a,"transition",""),r(a,"transform","");var e=s(this.el),f=e&&e.a,g=e&&e.d,h=(b.left-c.left)/(f||1),i=(b.top-c.top)/(g||1);a.animatingX=!!h,a.animatingY=!!i,r(a,"transform","translate3d("+h+"px,"+i+"px,0)"),M(a),r(a,"transition","transform "+d+"ms"+(this.options.easing?" "+this.options.easing:"")),r(a,"transform","translate3d(0,0,0)"),"number"==typeof a.animated&&clearTimeout(a.animated),a.animated=setTimeout(function(){r(a,"transition",""),r(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},d)}}}}function M(a){return a.offsetWidth}function N(a,b,c,d){return Math.sqrt(Math.pow(b.top-a.top,2)+Math.pow(b.left-a.left,2))/Math.sqrt(Math.pow(b.top-c.top,2)+Math.pow(b.left-c.left,2))*d.animation}function O(a){var b=a.sortable,c=a.rootEl,e=a.name,f=a.targetEl,g=a.cloneEl,h=a.toEl,i=a.fromEl,j=a.oldIndex,k=a.newIndex,l=a.oldDraggableIndex,m=a.newDraggableIndex,n=a.originalEvent,o=a.putSortable,p=a.extraEventProperties;if(b=b||c&&c[Ua]){var q,r=b.options,s="on"+e.charAt(0).toUpperCase()+e.substr(1);!window.CustomEvent||Ma||Na?(q=document.createEvent("Event"),q.initEvent(e,!0,!0)):q=new CustomEvent(e,{bubbles:!0,cancelable:!0}),q.to=h||c,q.from=i||c,q.item=f||c,q.clone=g,q.oldIndex=j,q.newIndex=k,q.oldDraggableIndex=l,q.newDraggableIndex=m,q.originalEvent=n,q.pullMode=o?o.lastPutMode:void 0;var t=d({},p,Xa.getEventProperties(e,b));for(var u in t)q[u]=t[u];c&&c.dispatchEvent(q),r[s]&&r[s].call(b,q)}}function P(a){O(d({putSortable:za,cloneEl:sa,targetEl:ma,rootEl:pa,oldIndex:ua,oldDraggableIndex:wa,newIndex:va,newDraggableIndex:xa},a))}function Q(a,b){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(a));this.el=a,this.options=b=c({},b),a[Ua]=this;var d={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(a.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return kb(a,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,b){a.setData("Text",b.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Q.supportPointer!==!1&&"PointerEvent"in window,emptyInsertThreshold:5};Xa.initializePlugins(this,a,d);for(var e in d)!(e in b)&&(b[e]=d[e]);nb(b);for(var f in this)"_"===f.charAt(0)&&"function"==typeof this[f]&&(this[f]=this[f].bind(this));this.nativeDraggable=!b.forceFallback&&ib,this.nativeDraggable&&(this.options.touchStartThreshold=1),b.supportPointer?l(a,"pointerdown",this._onTapStart):(l(a,"mousedown",this._onTapStart),l(a,"touchstart",this._onTapStart)),this.nativeDraggable&&(l(a,"dragover",this),l(a,"dragenter",this)),_a.push(this.el),b.store&&b.store.get&&this.sort(b.store.get(this)||[]),c(this,L())}function R(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.cancelable&&a.preventDefault()}function S(a,b,c,d,e,f,g,h){var i,j,k=a[Ua],l=k.options.onMove;return!window.CustomEvent||Ma||Na?(i=document.createEvent("Event"),i.initEvent("move",!0,!0)):i=new CustomEvent("move",{bubbles:!0,cancelable:!0}),i.to=b,i.from=a,i.dragged=c,i.draggedRect=d,i.related=e||b,i.relatedRect=f||v(b),i.willInsertAfter=h,i.originalEvent=g,a.dispatchEvent(i),l&&(j=l.call(k,i,g)),j}function T(a){a.draggable=!1}function U(){db=!1}function V(a,b,c){var d=v(y(c.el,c.options.draggable)),e=10;return b?a.clientX>d.right+e||a.clientX<=d.right&&a.clientY>d.bottom&&a.clientX>=d.left:a.clientX>d.right&&a.clientY>d.top||a.clientX<=d.right&&a.clientY>d.bottom+e}function W(a,b,c,d,e,f,g,h){var i=d?a.clientY:a.clientX,j=d?c.height:c.width,k=d?c.top:c.left,l=d?c.bottom:c.right,m=!1;if(!g)if(h&&Ja<j*e){if(!ab&&(1===Ia?i>k+j*f/2:i<l-j*f/2)&&(ab=!0),ab)m=!0;else if(1===Ia?i<k+Ja:i>l-Ja)return-Ia}else if(i>k+j*(1-e)/2&&i<l-j*(1-e)/2)return X(b);return m=m||g,m&&(i<k+j*f/2||i>l-j*f/2)?i>k+j/2?1:-1:0}function X(a){return z(ma)<z(a)?1:-1}function Y(a){for(var b=a.tagName+a.className+a.src+a.href+a.textContent,c=b.length,d=0;c--;)d+=b.charCodeAt(c);return d.toString(36)}function Z(a){eb.length=0;for(var b=a.getElementsByTagName("input"),c=b.length;c--;){var d=b[c];d.checked&&eb.push(d)}}function $(a){return setTimeout(a,0)}function _(a){return clearTimeout(a)}function aa(){function a(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var a in this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this))}return a.prototype={dragStarted:function(a){var b=a.originalEvent;this.sortable.nativeDraggable?l(document,"dragover",this._handleAutoScroll):this.options.supportPointer?l(document,"pointermove",this._handleFallbackAutoScroll):b.touches?l(document,"touchmove",this._handleFallbackAutoScroll):l(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(a){var b=a.originalEvent;this.options.dragOverBubble||b.rootEl||this._handleAutoScroll(b)},drop:function(){this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):(m(document,"pointermove",this._handleFallbackAutoScroll),m(document,"touchmove",this._handleFallbackAutoScroll),m(document,"mousemove",this._handleFallbackAutoScroll)),ca(),ba(),G()},nulling:function(){wb=tb=sb=zb=xb=ub=vb=null,yb.length=0},_handleFallbackAutoScroll:function(a){this._handleAutoScroll(a,!0)},_handleAutoScroll:function(a,b){var c=this,d=(a.touches?a.touches[0]:a).clientX,e=(a.touches?a.touches[0]:a).clientY,f=document.elementFromPoint(d,e);if(wb=a,b||Na||Ma||Pa){Ab(a,this.options,f,b);var g=C(f,!0);!zb||xb&&d===ub&&e===vb||(xb&&ca(),xb=setInterval(function(){var f=C(document.elementFromPoint(d,e),!0);f!==g&&(g=f,ba()),Ab(a,c.options,f,b)},10),ub=d,vb=e)}else{if(!this.options.bubbleScroll||C(f,!0)===u())return void ba();Ab(a,this.options,C(f,!1),!1)}}},c(a,{pluginName:"scroll",initializeByDefault:!0})}function ba(){yb.forEach(function(a){clearInterval(a.pid)}),yb=[]}function ca(){clearInterval(xb)}function da(){}function ea(){}function fa(){function a(){this.defaults={swapClass:"sortable-swap-highlight"}}return a.prototype={dragStart:function(a){var b=a.dragEl;Cb=b},dragOverValid:function(a){var b=a.completed,c=a.target,d=a.onMove,e=a.activeSortable,f=a.changed,g=a.cancel;if(e.options.swap){var h=this.sortable.el,i=this.options;if(c&&c!==h){var j=Cb;d(c)!==!1?(q(c,i.swapClass,!0),Cb=c):Cb=null,j&&j!==Cb&&q(j,i.swapClass,!1)}f(),b(!0),g()}},drop:function(a){var b=a.activeSortable,c=a.putSortable,d=a.dragEl,e=c||this.sortable,f=this.options;Cb&&q(Cb,f.swapClass,!1),Cb&&(f.swap||c&&c.options.swap)&&d!==Cb&&(e.captureAnimationState(),e!==b&&b.captureAnimationState(),ga(d,Cb),e.animateAll(),e!==b&&b.animateAll())},nulling:function(){Cb=null}},c(a,{pluginName:"swap",eventProperties:function(){return{swapItem:Cb}}})}function ga(a,b){var c,d,e=a.parentNode,f=b.parentNode;e&&f&&!e.isEqualNode(b)&&!f.isEqualNode(a)&&(c=z(a),d=z(b),e.isEqualNode(f)&&c<d&&d++,e.insertBefore(b,e.children[c]),f.insertBefore(a,f.children[d]))}function ha(){function a(a){for(var b in this)"_"===b.charAt(0)&&"function"==typeof this[b]&&(this[b]=this[b].bind(this));a.options.supportPointer?l(document,"pointerup",this._deselectMultiDrag):(l(document,"mouseup",this._deselectMultiDrag),l(document,"touchend",this._deselectMultiDrag)),l(document,"keydown",this._checkKeyDown),l(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(b,c){var d="";Ib.length&&Eb===a?Ib.forEach(function(a,b){d+=(b?", ":"")+a.textContent}):d=c.textContent,b.setData("Text",d)}}}return a.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(a){var b=a.dragEl;Fb=b},delayEnded:function(){this.isMultiDrag=~Ib.indexOf(Fb)},setupClone:function(a){var b=a.sortable,c=a.cancel;if(this.isMultiDrag){for(var d=0;d<Ib.length;d++)Jb.push(I(Ib[d])),Jb[d].sortableIndex=Ib[d].sortableIndex,Jb[d].draggable=!1,Jb[d].style["will-change"]="",q(Jb[d],this.options.selectedClass,!1),Ib[d]===Fb&&q(Jb[d],this.options.chosenClass,!1);b._hideClone(),c()}},clone:function(a){var b=a.sortable,c=a.rootEl,d=a.dispatchSortableEvent,e=a.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Ib.length&&Eb===b&&(ja(!0,c),d("clone"),e()))},showClone:function(a){var b=a.cloneNowShown,c=a.rootEl,d=a.cancel;this.isMultiDrag&&(ja(!1,c),Jb.forEach(function(a){r(a,"display","")}),b(),Hb=!1,d())},hideClone:function(a){var b=this,c=(a.sortable,a.cloneNowHidden),d=a.cancel;this.isMultiDrag&&(Jb.forEach(function(a){r(a,"display","none"),b.options.removeCloneOnHide&&a.parentNode&&a.parentNode.removeChild(a)}),c(),Hb=!0,d())},dragStartGlobal:function(a){a.sortable;!this.isMultiDrag&&Eb&&Eb.multiDrag._deselectMultiDrag(),Ib.forEach(function(a){a.sortableIndex=z(a)}),Ib=Ib.sort(function(a,b){return a.sortableIndex-b.sortableIndex}),Mb=!0},dragStarted:function(a){var b=this,c=a.sortable;if(this.isMultiDrag){if(this.options.sort&&(c.captureAnimationState(),this.options.animation)){Ib.forEach(function(a){a!==Fb&&r(a,"position","absolute")});var d=v(Fb,!1,!0,!0);Ib.forEach(function(a){a!==Fb&&J(a,d)}),Lb=!0,Kb=!0}c.animateAll(function(){Lb=!1,Kb=!1,b.options.animation&&Ib.forEach(function(a){K(a)}),b.options.sort&&ka()})}},dragOver:function(a){var b=a.target,c=a.completed,d=a.cancel;Lb&&~Ib.indexOf(b)&&(c(!1),d())},revert:function(a){var b=a.fromSortable,c=a.rootEl,d=a.sortable,e=a.dragRect;Ib.length>1&&(Ib.forEach(function(a){d.addAnimationState({target:a,rect:Lb?v(a):e}),K(a),a.fromRect=e,b.removeAnimationState(a)}),Lb=!1,ia(!this.options.removeCloneOnHide,c))},dragOverCompleted:function(a){var b=a.sortable,c=a.isOwner,d=a.insertion,e=a.activeSortable,f=a.parentEl,g=a.putSortable,h=this.options;if(d){if(c&&e._hideClone(),Kb=!1,h.animation&&Ib.length>1&&(Lb||!c&&!e.options.sort&&!g)){var i=v(Fb,!1,!0,!0);Ib.forEach(function(a){a!==Fb&&(J(a,i),f.appendChild(a))}),Lb=!0}if(!c)if(Lb||ka(),Ib.length>1){var j=Hb;e._showClone(b),e.options.animation&&!Hb&&j&&Jb.forEach(function(a){e.addAnimationState({target:a,rect:Gb}),a.fromRect=Gb,a.thisAnimationDuration=null})}else e._showClone(b)}},dragOverAnimationCapture:function(a){var b=a.dragRect,d=a.isOwner,e=a.activeSortable;if(Ib.forEach(function(a){a.thisAnimationDuration=null}),e.options.animation&&!d&&e.multiDrag.isMultiDrag){Gb=c({},b);var f=s(Fb,!0);Gb.top-=f.f,Gb.left-=f.e}},dragOverAnimationComplete:function(){Lb&&(Lb=!1,ka())},drop:function(a){var b=a.originalEvent,c=a.rootEl,d=a.parentEl,e=a.sortable,f=a.dispatchSortableEvent,g=a.oldIndex,h=a.putSortable,i=h||this.sortable;if(b){var j=this.options,k=d.children;if(!Mb)if(j.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),q(Fb,j.selectedClass,!~Ib.indexOf(Fb)),~Ib.indexOf(Fb))Ib.splice(Ib.indexOf(Fb),1),Db=null,O({sortable:e,rootEl:c,name:"deselect",targetEl:Fb,originalEvt:b});else{if(Ib.push(Fb),O({sortable:e,rootEl:c,name:"select",targetEl:Fb,originalEvt:b}),b.shiftKey&&Db&&e.el.contains(Db)){var l=z(Db),m=z(Fb);if(~l&&~m&&l!==m){var n,o;for(m>l?(o=l,n=m):(o=m,n=l+1);o<n;o++)~Ib.indexOf(k[o])||(q(k[o],j.selectedClass,!0),Ib.push(k[o]),O({sortable:e,rootEl:c,name:"select",targetEl:k[o],originalEvt:b}))}}else Db=Fb;Eb=i}if(Mb&&this.isMultiDrag){if((d[Ua].options.sort||d!==c)&&Ib.length>1){var p=v(Fb),r=z(Fb,":not(."+this.options.selectedClass+")");if(!Kb&&j.animation&&(Fb.thisAnimationDuration=null),i.captureAnimationState(),!Kb&&(j.animation&&(Fb.fromRect=p,Ib.forEach(function(a){if(a.thisAnimationDuration=null,a!==Fb){var b=Lb?v(a):p;a.fromRect=b,i.addAnimationState({target:a,rect:b})}})),ka(),Ib.forEach(function(a){k[r]?d.insertBefore(a,k[r]):d.appendChild(a),r++}),g===z(Fb))){var s=!1;Ib.forEach(function(a){if(a.sortableIndex!==z(a))return void(s=!0)}),s&&f("update")}Ib.forEach(function(a){K(a)}),i.animateAll()}Eb=i}(c===d||h&&"clone"!==h.lastPutMode)&&Jb.forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})}},nullingGlobal:function(){this.isMultiDrag=Mb=!1,Jb.length=0},destroyGlobal:function(){this._deselectMultiDrag(),m(document,"pointerup",this._deselectMultiDrag),m(document,"mouseup",this._deselectMultiDrag),m(document,"touchend",this._deselectMultiDrag),m(document,"keydown",this._checkKeyDown),m(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(a){if(!("undefined"!=typeof Mb&&Mb||Eb!==this.sortable||a&&p(a.target,this.options.draggable,this.sortable.el,!1)||a&&0!==a.button))for(;Ib.length;){var b=Ib[0];q(b,this.options.selectedClass,!1),Ib.shift(),O({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:b,originalEvt:a})}},_checkKeyDown:function(a){a.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(a){a.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},c(a,{pluginName:"multiDrag",utils:{select:function(a){var b=a.parentNode[Ua];b&&b.options.multiDrag&&!~Ib.indexOf(a)&&(Eb&&Eb!==b&&(Eb.multiDrag._deselectMultiDrag(),Eb=b),q(a,b.options.selectedClass,!0),Ib.push(a))},deselect:function(a){var b=a.parentNode[Ua],c=Ib.indexOf(a);b&&b.options.multiDrag&&~c&&(q(a,b.options.selectedClass,!1),Ib.splice(c,1))}},eventProperties:function(){var a=this,b=[],c=[];return Ib.forEach(function(d){b.push({multiDragElement:d,index:d.sortableIndex});var e;e=Lb&&d!==Fb?-1:Lb?z(d,":not(."+a.options.selectedClass+")"):z(d),c.push({multiDragElement:d,index:e})}),{items:g(Ib),clones:[].concat(Jb),oldIndicies:b,newIndicies:c}},optionListeners:{multiDragKey:function(a){return a=a.toLowerCase(),"ctrl"===a?a="Control":a.length>1&&(a=a.charAt(0).toUpperCase()+a.substr(1)),a}}})}function ia(a,b){Ib.forEach(function(c,d){var e=b.children[c.sortableIndex+(a?Number(d):0)];e?b.insertBefore(c,e):b.appendChild(c)})}function ja(a,b){Jb.forEach(function(c,d){var e=b.children[c.sortableIndex+(a?Number(d):0)];e?b.insertBefore(c,e):b.appendChild(c)})}function ka(){Ib.forEach(function(a){a!==Fb&&a.parentNode&&a.parentNode.removeChild(a)})}var la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La="1.10.2",Ma=k(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Na=k(/Edge/i),Oa=k(/firefox/i),Pa=k(/safari/i)&&!k(/chrome/i)&&!k(/android/i),Qa=k(/iP(ad|od|hone)/i),Ra=k(/chrome/i)&&k(/android/i),Sa={capture:!1,passive:!1},Ta=/\s+/g,Ua="Sortable"+(new Date).getTime(),Va=[],Wa={initializeByDefault:!0},Xa={mount:function(a){for(var b in Wa)!Wa.hasOwnProperty(b)||b in a||(a[b]=Wa[b]);Va.push(a)},pluginEvent:function(a,b,c){var e=this;this.eventCanceled=!1,c.cancel=function(){e.eventCanceled=!0};var f=a+"Global";Va.forEach(function(e){b[e.pluginName]&&(b[e.pluginName][f]&&b[e.pluginName][f](d({sortable:b},c)),b.options[e.pluginName]&&b[e.pluginName][a]&&b[e.pluginName][a](d({sortable:b},c)))})},initializePlugins:function(a,b,d,e){Va.forEach(function(e){var f=e.pluginName;if(a.options[f]||e.initializeByDefault){var g=new e(a,b,a.options);g.sortable=a,g.options=a.options,a[f]=g,c(d,g.defaults)}});for(var f in a.options)if(a.options.hasOwnProperty(f)){var g=this.modifyOption(a,f,a.options[f]);"undefined"!=typeof g&&(a.options[f]=g)}},getEventProperties:function(a,b){var d={};return Va.forEach(function(e){"function"==typeof e.eventProperties&&c(d,e.eventProperties.call(b[e.pluginName],a))}),d},modifyOption:function(a,b,c){var d;return Va.forEach(function(e){a[e.pluginName]&&e.optionListeners&&"function"==typeof e.optionListeners[b]&&(d=e.optionListeners[b].call(a[e.pluginName],c))}),d}},Ya=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=c.evt,g=f(c,["evt"]);Xa.pluginEvent.bind(Q)(a,b,d({dragEl:ma,parentEl:na,ghostEl:oa,rootEl:pa,nextEl:qa,lastDownEl:ra,cloneEl:sa,cloneHidden:ta,dragStarted:Ga,putSortable:za,activeSortable:Q.active,originalEvent:e,oldIndex:ua,oldDraggableIndex:wa,newIndex:va,newDraggableIndex:xa,hideGhostForTarget:ob,unhideGhostForTarget:pb,cloneNowHidden:function(){ta=!0},cloneNowShown:function(){ta=!1},dispatchSortableEvent:function(a){P({sortable:b,name:a,originalEvent:e})}},g))},Za=!1,$a=!1,_a=[],ab=!1,bb=!1,cb=[],db=!1,eb=[],fb="undefined"!=typeof document,gb=Qa,hb=Na||Ma?"cssFloat":"float",ib=fb&&!Ra&&!Qa&&"draggable"in document.createElement("div"),jb=function(){if(fb){if(Ma)return!1;var a=document.createElement("x");return a.style.cssText="pointer-events:auto","auto"===a.style.pointerEvents}}(),kb=function(a,b){var c=r(a),d=parseInt(c.width)-parseInt(c.paddingLeft)-parseInt(c.paddingRight)-parseInt(c.borderLeftWidth)-parseInt(c.borderRightWidth),e=x(a,0,b),f=x(a,1,b),g=e&&r(e),h=f&&r(f),i=g&&parseInt(g.marginLeft)+parseInt(g.marginRight)+v(e).width,j=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+v(f).width;if("flex"===c.display)return"column"===c.flexDirection||"column-reverse"===c.flexDirection?"vertical":"horizontal";if("grid"===c.display)return c.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(e&&g["float"]&&"none"!==g["float"]){var k="left"===g["float"]?"left":"right";return!f||"both"!==h.clear&&h.clear!==k?"horizontal":"vertical"}return e&&("block"===g.display||"flex"===g.display||"table"===g.display||"grid"===g.display||i>=d&&"none"===c[hb]||f&&"none"===c[hb]&&i+j>d)?"vertical":"horizontal"},lb=function(a,b,c){var d=c?a.left:a.top,e=c?a.right:a.bottom,f=c?a.width:a.height,g=c?b.left:b.top,h=c?b.right:b.bottom,i=c?b.width:b.height;return d===g||e===h||d+f/2===g+i/2},mb=function(a,b){var c;return _a.some(function(d){if(!y(d)){var e=v(d),f=d[Ua].options.emptyInsertThreshold,g=a>=e.left-f&&a<=e.right+f,h=b>=e.top-f&&b<=e.bottom+f;return f&&g&&h?c=d:void 0}}),c},nb=function(b){function c(a,b){return function(d,e,f,g){var h=d.options.group.name&&e.options.group.name&&d.options.group.name===e.options.group.name;if(null==a&&(b||h))return!0;if(null==a||a===!1)return!1;if(b&&"clone"===a)return a;if("function"==typeof a)return c(a(d,e,f,g),b)(d,e,f,g);var i=(b?d:e).options.group.name;return a===!0||"string"==typeof a&&a===i||a.join&&a.indexOf(i)>-1}}var d={},e=b.group;e&&"object"==a(e)||(e={name:e}),d.name=e.name,d.checkPull=c(e.pull,!0),d.checkPut=c(e.put),d.revertClone=e.revertClone,b.group=d},ob=function(){!jb&&oa&&r(oa,"display","none")},pb=function(){!jb&&oa&&r(oa,"display","")};fb&&document.addEventListener("click",function(a){if($a)return a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),$a=!1,!1},!0);var qb=function(a){if(ma){a=a.touches?a.touches[0]:a;var b=mb(a.clientX,a.clientY);if(b){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.target=c.rootEl=b,c.preventDefault=void 0,c.stopPropagation=void 0,b[Ua]._onDragOver(c)}}},rb=function(a){ma&&ma.parentNode[Ua]._isOutsideThisEl(a.target)};Q.prototype={constructor:Q,_isOutsideThisEl:function(a){this.el.contains(a)||a===this.el||(Ha=null)},_getDirection:function(a,b){return"function"==typeof this.options.direction?this.options.direction.call(this,a,b,ma):this.options.direction},_onTapStart:function(a){if(a.cancelable){var b=this,c=this.el,d=this.options,e=d.preventOnFilter,f=a.type,g=a.touches&&a.touches[0]||a.pointerType&&"touch"===a.pointerType&&a,h=(g||a).target,i=a.target.shadowRoot&&(a.path&&a.path[0]||a.composedPath&&a.composedPath()[0])||h,j=d.filter;if(Z(c),!ma&&!(/mousedown|pointerdown/.test(f)&&0!==a.button||d.disabled||i.isContentEditable||(h=p(h,d.draggable,c,!1),h&&h.animated||ra===h))){if(ua=z(h),wa=z(h,d.draggable),"function"==typeof j){if(j.call(this,a,h,this))return P({sortable:b,rootEl:i,name:"filter",targetEl:h,toEl:c,fromEl:c}),Ya("filter",b,{evt:a}),void(e&&a.cancelable&&a.preventDefault())}else if(j&&(j=j.split(",").some(function(d){if(d=p(i,d.trim(),c,!1))return P({sortable:b,rootEl:d,name:"filter",targetEl:h,fromEl:c,toEl:c}),Ya("filter",b,{evt:a}),!0})))return void(e&&a.cancelable&&a.preventDefault());d.handle&&!p(i,d.handle,c,!1)||this._prepareDragStart(a,g,h)}}},_prepareDragStart:function(a,b,c){var d,e=this,f=e.el,g=e.options,h=f.ownerDocument;if(c&&!ma&&c.parentNode===f){var i=v(c);if(pa=f,ma=c,na=ma.parentNode,qa=ma.nextSibling,ra=c,ya=g.group,Q.dragged=ma,Aa={target:ma,clientX:(b||a).clientX,clientY:(b||a).clientY},Ea=Aa.clientX-i.left,Fa=Aa.clientY-i.top,this._lastX=(b||a).clientX,this._lastY=(b||a).clientY,ma.style["will-change"]="all",d=function(){return Ya("delayEnded",e,{evt:a}),Q.eventCanceled?void e._onDrop():(e._disableDelayedDragEvents(),!Oa&&e.nativeDraggable&&(ma.draggable=!0),e._triggerDragStart(a,b),P({sortable:e,name:"choose",originalEvent:a}),void q(ma,g.chosenClass,!0))},g.ignore.split(",").forEach(function(a){t(ma,a.trim(),T)}),l(h,"dragover",qb),l(h,"mousemove",qb),l(h,"touchmove",qb),l(h,"mouseup",e._onDrop),l(h,"touchend",e._onDrop),l(h,"touchcancel",e._onDrop),Oa&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ma.draggable=!0),Ya("delayStart",this,{evt:a}),!g.delay||g.delayOnTouchOnly&&!b||this.nativeDraggable&&(Na||Ma))d();else{if(Q.eventCanceled)return void this._onDrop();l(h,"mouseup",e._disableDelayedDrag),l(h,"touchend",e._disableDelayedDrag),l(h,"touchcancel",e._disableDelayedDrag),l(h,"mousemove",e._delayedDragTouchMoveHandler),l(h,"touchmove",e._delayedDragTouchMoveHandler),g.supportPointer&&l(h,"pointermove",e._delayedDragTouchMoveHandler),e._dragStartTimer=setTimeout(d,g.delay)}}},_delayedDragTouchMoveHandler:function(a){var b=a.touches?a.touches[0]:a;Math.max(Math.abs(b.clientX-this._lastX),Math.abs(b.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ma&&T(ma),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var a=this.el.ownerDocument;m(a,"mouseup",this._disableDelayedDrag),m(a,"touchend",this._disableDelayedDrag),m(a,"touchcancel",this._disableDelayedDrag),m(a,"mousemove",this._delayedDragTouchMoveHandler),m(a,"touchmove",this._delayedDragTouchMoveHandler),m(a,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(a,b){b=b||"touch"==a.pointerType&&a,!this.nativeDraggable||b?this.options.supportPointer?l(document,"pointermove",this._onTouchMove):b?l(document,"touchmove",this._onTouchMove):l(document,"mousemove",this._onTouchMove):(l(ma,"dragend",this),l(pa,"dragstart",this._onDragStart));try{document.selection?$(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(c){}},_dragStarted:function(a,b){if(Za=!1,pa&&ma){Ya("dragStarted",this,{evt:b}),this.nativeDraggable&&l(document,"dragover",rb);var c=this.options;!a&&q(ma,c.dragClass,!1),q(ma,c.ghostClass,!0),Q.active=this,a&&this._appendGhost(),P({sortable:this,name:"start",originalEvent:b})}else this._nulling()},_emulateDragOver:function(){if(Ba){this._lastX=Ba.clientX,this._lastY=Ba.clientY,ob();for(var a=document.elementFromPoint(Ba.clientX,Ba.clientY),b=a;a&&a.shadowRoot&&(a=a.shadowRoot.elementFromPoint(Ba.clientX,Ba.clientY),a!==b);)b=a;if(ma.parentNode[Ua]._isOutsideThisEl(a),b)do{if(b[Ua]){var c=void 0;if(c=b[Ua]._onDragOver({clientX:Ba.clientX,clientY:Ba.clientY,target:a,rootEl:b}),c&&!this.options.dragoverBubble)break}a=b}while(b=b.parentNode);pb()}},_onTouchMove:function(a){if(Aa){var b=this.options,c=b.fallbackTolerance,d=b.fallbackOffset,e=a.touches?a.touches[0]:a,f=oa&&s(oa,!0),g=oa&&f&&f.a,h=oa&&f&&f.d,i=gb&&Ka&&A(Ka),j=(e.clientX-Aa.clientX+d.x)/(g||1)+(i?i[0]-cb[0]:0)/(g||1),k=(e.clientY-Aa.clientY+d.y)/(h||1)+(i?i[1]-cb[1]:0)/(h||1);if(!Q.active&&!Za){if(c&&Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))<c)return;this._onDragStart(a,!0)}if(oa){f?(f.e+=j-(Ca||0),f.f+=k-(Da||0)):f={a:1,b:0,c:0,d:1,e:j,f:k};var l="matrix(".concat(f.a,",").concat(f.b,",").concat(f.c,",").concat(f.d,",").concat(f.e,",").concat(f.f,")");r(oa,"webkitTransform",l),r(oa,"mozTransform",l),r(oa,"msTransform",l),r(oa,"transform",l),Ca=j,Da=k,Ba=e}a.cancelable&&a.preventDefault()}},_appendGhost:function(){if(!oa){var a=this.options.fallbackOnBody?document.body:pa,b=v(ma,!0,gb,!0,a),c=this.options;if(gb){for(Ka=a;"static"===r(Ka,"position")&&"none"===r(Ka,"transform")&&Ka!==document;)Ka=Ka.parentNode;Ka!==document.body&&Ka!==document.documentElement?(Ka===document&&(Ka=u()),
b.top+=Ka.scrollTop,b.left+=Ka.scrollLeft):Ka=u(),cb=A(Ka)}oa=ma.cloneNode(!0),q(oa,c.ghostClass,!1),q(oa,c.fallbackClass,!0),q(oa,c.dragClass,!0),r(oa,"transition",""),r(oa,"transform",""),r(oa,"box-sizing","border-box"),r(oa,"margin",0),r(oa,"top",b.top),r(oa,"left",b.left),r(oa,"width",b.width),r(oa,"height",b.height),r(oa,"opacity","0.8"),r(oa,"position",gb?"absolute":"fixed"),r(oa,"zIndex","100000"),r(oa,"pointerEvents","none"),Q.ghost=oa,a.appendChild(oa),r(oa,"transform-origin",Ea/parseInt(oa.style.width)*100+"% "+Fa/parseInt(oa.style.height)*100+"%")}},_onDragStart:function(a,b){var c=this,d=a.dataTransfer,e=c.options;return Ya("dragStart",this,{evt:a}),Q.eventCanceled?void this._onDrop():(Ya("setupClone",this),Q.eventCanceled||(sa=I(ma),sa.draggable=!1,sa.style["will-change"]="",this._hideClone(),q(sa,this.options.chosenClass,!1),Q.clone=sa),c.cloneId=$(function(){Ya("clone",c),Q.eventCanceled||(c.options.removeCloneOnHide||pa.insertBefore(sa,ma),c._hideClone(),P({sortable:c,name:"clone"}))}),!b&&q(ma,e.dragClass,!0),b?($a=!0,c._loopId=setInterval(c._emulateDragOver,50)):(m(document,"mouseup",c._onDrop),m(document,"touchend",c._onDrop),m(document,"touchcancel",c._onDrop),d&&(d.effectAllowed="move",e.setData&&e.setData.call(c,d,ma)),l(document,"drop",c),r(ma,"transform","translateZ(0)")),Za=!0,c._dragStartId=$(c._dragStarted.bind(c,b,a)),l(document,"selectstart",c),Ga=!0,void(Pa&&r(document.body,"user-select","none")))},_onDragOver:function(a){function b(b,c){Ya(b,x,d({evt:a,isOwner:s,axis:j?"vertical":"horizontal",revert:i,dragRect:g,targetRect:h,canSort:t,fromSortable:u,target:l,completed:e,onMove:function(b,c){return S(pa,k,ma,g,b,v(b),a,c)},changed:f},c))}function c(){b("dragOverAnimationCapture"),x.captureAnimationState(),x!==u&&u.captureAnimationState()}function e(c){return b("dragOverCompleted",{insertion:c}),c&&(s?o._hideClone():o._showClone(x),x!==u&&(q(ma,za?za.options.ghostClass:o.options.ghostClass,!1),q(ma,m.ghostClass,!0)),za!==x&&x!==Q.active?za=x:x===Q.active&&za&&(za=null),u===x&&(x._ignoreWhileAnimating=l),x.animateAll(function(){b("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==u&&(u.animateAll(),u._ignoreWhileAnimating=null)),(l===ma&&!ma.animated||l===k&&!l.animated)&&(Ha=null),m.dragoverBubble||a.rootEl||l===document||(ma.parentNode[Ua]._isOutsideThisEl(a.target),!c&&qb(a)),!m.dragoverBubble&&a.stopPropagation&&a.stopPropagation(),A=!0}function f(){va=z(ma),xa=z(ma,m.draggable),P({sortable:x,name:"change",toEl:k,newIndex:va,newDraggableIndex:xa,originalEvent:a})}var g,h,i,j,k=this.el,l=a.target,m=this.options,n=m.group,o=Q.active,s=ya===n,t=m.sort,u=za||o,x=this,A=!1;if(!db){if(void 0!==a.preventDefault&&a.cancelable&&a.preventDefault(),l=p(l,m.draggable,k,!0),b("dragOver"),Q.eventCanceled)return A;if(ma.contains(a.target)||l.animated&&l.animatingX&&l.animatingY||x._ignoreWhileAnimating===l)return e(!1);if($a=!1,o&&!m.disabled&&(s?t||(i=!pa.contains(ma)):za===this||(this.lastPutMode=ya.checkPull(this,o,ma,a))&&n.checkPut(this,o,ma,a))){if(j="vertical"===this._getDirection(a,l),g=v(ma),b("dragOverValid"),Q.eventCanceled)return A;if(i)return na=pa,c(),this._hideClone(),b("revert"),Q.eventCanceled||(qa?pa.insertBefore(ma,qa):pa.appendChild(ma)),e(!0);var B=y(k,m.draggable);if(!B||V(a,j,this)&&!B.animated){if(B===ma)return e(!1);if(B&&k===a.target&&(l=B),l&&(h=v(l)),S(pa,k,ma,g,l,h,a,!!l)!==!1)return c(),k.appendChild(ma),na=k,f(),e(!0)}else if(l.parentNode===k){h=v(l);var C,D=0,E=ma.parentNode!==k,F=!lb(ma.animated&&ma.toRect||g,l.animated&&l.toRect||h,j),G=j?"top":"left",I=w(l,"top","top")||w(ma,"top","top"),J=I?I.scrollTop:void 0;Ha!==l&&(C=h[G],ab=!1,bb=!F&&m.invertSwap||E),D=W(a,l,h,j,F?1:m.swapThreshold,null==m.invertedSwapThreshold?m.swapThreshold:m.invertedSwapThreshold,bb,Ha===l);var K;if(0!==D){var L=z(ma);do L-=D,K=na.children[L];while(K&&("none"===r(K,"display")||K===oa))}if(0===D||K===l)return e(!1);Ha=l,Ia=D;var M=l.nextElementSibling,N=!1;N=1===D;var O=S(pa,k,ma,g,l,h,a,N);if(O!==!1)return 1!==O&&O!==-1||(N=1===O),db=!0,setTimeout(U,30),c(),N&&!M?k.appendChild(ma):l.parentNode.insertBefore(ma,N?M:l),I&&H(I,0,J-I.scrollTop),na=ma.parentNode,void 0===C||bb||(Ja=Math.abs(C-v(l)[G])),f(),e(!0)}if(k.contains(ma))return e(!1)}return!1}},_ignoreWhileAnimating:null,_offMoveEvents:function(){m(document,"mousemove",this._onTouchMove),m(document,"touchmove",this._onTouchMove),m(document,"pointermove",this._onTouchMove),m(document,"dragover",qb),m(document,"mousemove",qb),m(document,"touchmove",qb)},_offUpEvents:function(){var a=this.el.ownerDocument;m(a,"mouseup",this._onDrop),m(a,"touchend",this._onDrop),m(a,"pointerup",this._onDrop),m(a,"touchcancel",this._onDrop),m(document,"selectstart",this)},_onDrop:function(a){var b=this.el,c=this.options;return va=z(ma),xa=z(ma,c.draggable),Ya("drop",this,{evt:a}),na=ma&&ma.parentNode,va=z(ma),xa=z(ma,c.draggable),Q.eventCanceled?void this._nulling():(Za=!1,bb=!1,ab=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_(this.cloneId),_(this._dragStartId),this.nativeDraggable&&(m(document,"drop",this),m(b,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Pa&&r(document.body,"user-select",""),r(ma,"transform",""),a&&(Ga&&(a.cancelable&&a.preventDefault(),!c.dropBubble&&a.stopPropagation()),oa&&oa.parentNode&&oa.parentNode.removeChild(oa),(pa===na||za&&"clone"!==za.lastPutMode)&&sa&&sa.parentNode&&sa.parentNode.removeChild(sa),ma&&(this.nativeDraggable&&m(ma,"dragend",this),T(ma),ma.style["will-change"]="",Ga&&!Za&&q(ma,za?za.options.ghostClass:this.options.ghostClass,!1),q(ma,this.options.chosenClass,!1),P({sortable:this,name:"unchoose",toEl:na,newIndex:null,newDraggableIndex:null,originalEvent:a}),pa!==na?(va>=0&&(P({rootEl:na,name:"add",toEl:na,fromEl:pa,originalEvent:a}),P({sortable:this,name:"remove",toEl:na,originalEvent:a}),P({rootEl:na,name:"sort",toEl:na,fromEl:pa,originalEvent:a}),P({sortable:this,name:"sort",toEl:na,originalEvent:a})),za&&za.save()):va!==ua&&va>=0&&(P({sortable:this,name:"update",toEl:na,originalEvent:a}),P({sortable:this,name:"sort",toEl:na,originalEvent:a})),Q.active&&(null!=va&&va!==-1||(va=ua,xa=wa),P({sortable:this,name:"end",toEl:na,originalEvent:a}),this.save()))),void this._nulling())},_nulling:function(){Ya("nulling",this),pa=ma=na=oa=qa=sa=ra=ta=Aa=Ba=Ga=va=xa=ua=wa=Ha=Ia=za=ya=Q.dragged=Q.ghost=Q.clone=Q.active=null,eb.forEach(function(a){a.checked=!0}),eb.length=Ca=Da=0},handleEvent:function(a){switch(a.type){case"drop":case"dragend":this._onDrop(a);break;case"dragenter":case"dragover":ma&&(this._onDragOver(a),R(a));break;case"selectstart":a.preventDefault()}},toArray:function(){for(var a,b=[],c=this.el.children,d=0,e=c.length,f=this.options;d<e;d++)a=c[d],p(a,f.draggable,this.el,!1)&&b.push(a.getAttribute(f.dataIdAttr)||Y(a));return b},sort:function(a){var b={},c=this.el;this.toArray().forEach(function(a,d){var e=c.children[d];p(e,this.options.draggable,c,!1)&&(b[a]=e)},this),a.forEach(function(a){b[a]&&(c.removeChild(b[a]),c.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set&&a.set(this)},closest:function(a,b){return p(a,b||this.options.draggable,this.el,!1)},option:function(a,b){var c=this.options;if(void 0===b)return c[a];var d=Xa.modifyOption(this,a,b);"undefined"!=typeof d?c[a]=d:c[a]=b,"group"===a&&nb(c)},destroy:function(){Ya("destroy",this);var a=this.el;a[Ua]=null,m(a,"mousedown",this._onTapStart),m(a,"touchstart",this._onTapStart),m(a,"pointerdown",this._onTapStart),this.nativeDraggable&&(m(a,"dragover",this),m(a,"dragenter",this)),Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),_a.splice(_a.indexOf(this.el),1),this.el=a=null},_hideClone:function(){if(!ta){if(Ya("hideClone",this),Q.eventCanceled)return;r(sa,"display","none"),this.options.removeCloneOnHide&&sa.parentNode&&sa.parentNode.removeChild(sa),ta=!0}},_showClone:function(a){if("clone"!==a.lastPutMode)return void this._hideClone();if(ta){if(Ya("showClone",this),Q.eventCanceled)return;pa.contains(ma)&&!this.options.group.revertClone?pa.insertBefore(sa,ma):qa?pa.insertBefore(sa,qa):pa.appendChild(sa),this.options.group.revertClone&&this.animate(ma,sa),r(sa,"display",""),ta=!1}}},fb&&l(document,"touchmove",function(a){(Q.active||Za)&&a.cancelable&&a.preventDefault()}),Q.utils={on:l,off:m,css:r,find:t,is:function(a,b){return!!p(a,b,a,!1)},extend:D,throttle:F,closest:p,toggleClass:q,clone:I,index:z,nextTick:$,cancelNextTick:_,detectDirection:kb,getChild:x},Q.get=function(a){return a[Ua]},Q.mount=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];b[0].constructor===Array&&(b=b[0]),b.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(Q.utils=d({},Q.utils,a.utils)),Xa.mount(a)})},Q.create=function(a,b){return new Q(a,b)},Q.version=La;var sb,tb,ub,vb,wb,xb,yb=[],zb=!1,Ab=F(function(a,b,c,d){if(b.scroll){var e,f=(a.touches?a.touches[0]:a).clientX,g=(a.touches?a.touches[0]:a).clientY,h=b.scrollSensitivity,i=b.scrollSpeed,j=u(),k=!1;tb!==c&&(tb=c,ba(),sb=b.scroll,e=b.scrollFn,sb===!0&&(sb=C(c,!0)));var l=0,m=sb;do{var n=m,o=v(n),p=o.top,q=o.bottom,s=o.left,t=o.right,w=o.width,x=o.height,y=void 0,z=void 0,A=n.scrollWidth,B=n.scrollHeight,D=r(n),E=n.scrollLeft,F=n.scrollTop;n===j?(y=w<A&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),z=x<B&&("auto"===D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(y=w<A&&("auto"===D.overflowX||"scroll"===D.overflowX),z=x<B&&("auto"===D.overflowY||"scroll"===D.overflowY));var G=y&&(Math.abs(t-f)<=h&&E+w<A)-(Math.abs(s-f)<=h&&!!E),I=z&&(Math.abs(q-g)<=h&&F+x<B)-(Math.abs(p-g)<=h&&!!F);if(!yb[l])for(var J=0;J<=l;J++)yb[J]||(yb[J]={});yb[l].vx==G&&yb[l].vy==I&&yb[l].el===n||(yb[l].el=n,yb[l].vx=G,yb[l].vy=I,clearInterval(yb[l].pid),0==G&&0==I||(k=!0,yb[l].pid=setInterval(function(){d&&0===this.layer&&Q.active._onTouchMove(wb);var b=yb[this.layer].vy?yb[this.layer].vy*i:0,c=yb[this.layer].vx?yb[this.layer].vx*i:0;"function"==typeof e&&"continue"!==e.call(Q.dragged.parentNode[Ua],c,b,a,wb,yb[this.layer].el)||H(yb[this.layer].el,c,b)}.bind({layer:l}),24))),l++}while(b.bubbleScroll&&m!==j&&(m=C(m,!1)));zb=k}},30),Bb=function(a){var b=a.originalEvent,c=a.putSortable,d=a.dragEl,e=a.activeSortable,f=a.dispatchSortableEvent,g=a.hideGhostForTarget,h=a.unhideGhostForTarget;if(b){var i=c||e;g();var j=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:b,k=document.elementFromPoint(j.clientX,j.clientY);h(),i&&!i.el.contains(k)&&(f("spill"),this.onSpill({dragEl:d,putSortable:c}))}};da.prototype={startIndex:null,dragStart:function(a){var b=a.oldDraggableIndex;this.startIndex=b},onSpill:function(a){var b=a.dragEl,c=a.putSortable;this.sortable.captureAnimationState(),c&&c.captureAnimationState();var d=x(this.sortable.el,this.startIndex,this.options);d?this.sortable.el.insertBefore(b,d):this.sortable.el.appendChild(b),this.sortable.animateAll(),c&&c.animateAll()},drop:Bb},c(da,{pluginName:"revertOnSpill"}),ea.prototype={onSpill:function(a){var b=a.dragEl,c=a.putSortable,d=c||this.sortable;d.captureAnimationState(),b.parentNode&&b.parentNode.removeChild(b),d.animateAll()},drop:Bb},c(ea,{pluginName:"removeOnSpill"});var Cb,Db,Eb,Fb,Gb,Hb,Ib=[],Jb=[],Kb=!1,Lb=!1,Mb=!1;return Q.mount(new aa),Q.mount(ea,da),Q.mount(new fa),Q.mount(new ha),Q});